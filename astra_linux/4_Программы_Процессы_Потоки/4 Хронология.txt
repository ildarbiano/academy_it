https://dion.vc/video/b7085f82-809b-4e2e-b14d-cab82ed9c8dd

========== Компоненты системы управления ПО в Linux =====================
	 включают следующие элементы:
1. Пакетный менеджер. Пакетные менеджеры: apt-get, yum, pacman, apt-get (наиболее популярен в deb-системах), aptitude и dpkg.
2. Репозиторий.
3. Зависимости.
4. Конфигурационные файлы.
5. Система контроля версий.
6. Сборочные инструменты.
7. Система автоматической сборки.

========== Именование и структура программных пакетов ===================
example-package_1.0-1_amd64.deb
• example-package — название пакета;
• 1.0 — номер версии;
• 1 — номер ревизии (если в пакет были внесены изменения после его первоначального выпуска);
• amd64 — архитектура, для которой был собран пакет.
Рассмотрим наименование и версионирование пакета.

Структура deb-пакета обычно следующая (вы можете открыть любой пакет *.deb для просмотра без распаковки с помощью утилиты mc: mc → выбираем пакет → Enter):
./CONMENTS
./DEBIAN
INFO
*INSTALL

========= Структура репозитория программного обеспечения =============
	Astra Linux использует структуру репозитория, подобную Debian.
Основные компоненты репозитория Astra Linux:
dists/		: директория, которая содержит файлы Packages.gz (инф о пакетах и метаданные) и Release. Эти файлы содержат информацию обо всех доступных пакетах в репозитории и их версиях;
pool/		: директория, которая содержит все пакеты, разделённые по категориям и включающие их разные версии;
security/	: содержит обновления безопасности для уже установленных пакетов;
updates/	: содержит исправления ошибок и новые функции для уже установленных пакетов;
project/	: содержит дополнительные файлы, связанные с проектом.


========= Менеджеры программных пакетов dpkg, apt, apt-команды, aptitude ==========
Менеджеры программных пакетов dpkg, apt и aptitude могут быть использованы в различных сценариях:
1. Если нужно управлять пакетами низкого уровня и устанавливать их ручным способом.
2. Может автоматически решать зависимости и устанавливать необходимые пакеты, что делает процесс установки программного обеспечения гораздо более удобным и быстрым


========= Подключение репозиториев Astra Linux ====================================
Чтобы указать программам-установщикам пакетов репозитории, из которых будут загружаться устанавливаемые пакеты, следует для каждого репозитория сформировать строку вида:
deb <путь_к_корневому_каталогу_репозитория> <код_дистрибутива> <список_компонент>
1. Эти строки добавить в файл /etc/apt/sources.list или в файлы с произвольными именами и расширением .list, расположенные в каталоге /etc/apt/sources.list.d.
2. После каждого внесения изменений в файлы с описанием репозиториев следует обновить списки пакетов: sudo apt update.


========= Подключение стороннего репозитория ============================================
Подключение сторонних репозиториев, например, репозиториев Debian. Для этого:
1. Установить пакет debian-archive-keyring: sudo apt install debian-archive-keyring.
2. Добавить описание репозиториев, например, в файл /etc/apt/sources.list.d/buster.list: 
		deb https://deb.debian.org/debian/ buster main contrib non-free
		deb https://security.debian.org/debian-security/ buster/updates main contrib non-free
3. Обновить кеш пакетов:
sudo apt update
• Сущ:1 http://dl.astralinux.ru/astra/stable/1.7_x86-64/repository-update 1.7_x86-64 InRelease
• Сущ:2 http://dl.astralinux.ru/astra/stable/1.7_x86-64/repository-base 1.7_x86-64 InRelease
• Сущ:3 http://dl.astralinux.ru/astra/stable/1.7_x86-64/repository-extended 1.7_x86-64 InRelease
• Cущ:4 https://security.debian.org/debian-security buster/updates InRelease
• Сущ:5 https://deb.debian.org/debian buster InRelease
Сторонние репозитории Debian подключены.

========== Установка обновлений ====================================================
1. Подключить интернет-репозитории Astra Linux. Для этого в файле /etc/apt/sources.list
добавляем строки:
	deb http://dl.astralinux.ru/astra/frozen/1.7_x86-64/1.7.4/repository-main/ 1.7_x86-64 main contrib nonfree
	deb http://dl.astralinux.ru/astra/frozen/1.7_x86-64/1.7.4/repository-update/ 1.7_x86-64 main contrib non-free
2. Сохранить. Если в качестве источников пакетов указан оптический установочный диск, т. е. присутствует строка вида:
	deb cdrom:[<наименование_установочного_диска>]/ 1.7_x86-64 contrib main non-free, то эту строку необходимо удалить или закомментировать (установить символ # в начале строки).
3. Выполнить повторную синхронизацию файлов описаний пакетов с их источником. Для этого выполняем команду: 	sudo apt update
4. Установить обновление, выполнив команду: 									sudo astra-update -A -r


