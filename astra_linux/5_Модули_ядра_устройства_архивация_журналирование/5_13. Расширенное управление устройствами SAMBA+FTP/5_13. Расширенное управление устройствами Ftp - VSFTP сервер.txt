План урока:
SMB/CIFS
Конфигурационный файл smb.conf
Настройки директорий
Работа с расшаренными папками
NFS
Ftp-сервер
Анонимный режим работы VSFTP
Практическое задание


========================= SMB/CIFS ====================================================================================
		это протокол, использующийся для обмена файлами между компьютерами, работающими в сети. 
SMB		Server Message Block
CIFS 		Common Internet File System	 


========================= Ftp-сервер - VSFTP сервер ====================================================================================
VSFTP 			Very Secure FTP — это сервер FTP (File Transfer Protocol), который предоставляет возможность обмена файлами между компьютерами по сети.  
VSFTP			является одним из самых быстрых и безопасных FTP-серверов для Linux-систем.
Особенности VSFTP сервера:
VSFTP сервер 		использует шифрование SSL/TLS для обеспечения безопасности при передаче данных.
VSFTP сервер		поддерживает многопользовательский режим с контролем доступа на основе IP и пользователей. Сервер обслуживает FTP, FTPS и SFTP протоколы.
VSFTP сервер 		предоставляет функцию ограничения скорости передачи, чтобы избежать перегрузки сервера.
VSFTP сервер 		В сборке присутствует несколько функций для защиты от DDoS-атак. 
VSFTP сервер 		поддерживает обычный режимы работы, то есть только авторизации, и анонимный. В анонимном режиме пользователи могут подключаться к серверу, не предоставляя учётных данных для аутентификации, что может быть полезно для обмена общедоступными файлами в Интернете.


========================= Анонимный режим работы VSFTP ====================================================================================
Для примера рассмотрим одну из самых сложных настроек ftp-сервера для анонимных пользователей в том числе с возможностью записи, чтения и создания в дочернем каталоге домашней директории ftp-сервера.
sudo apt install vsftpd			чтобы установить сервер ftp (vsftpd).
/etc/vsftpd.conf  			После установки начинаем настраивать сервер, приведём конфигурационный файл к виду:
	listen=YES
	listen_ipv6=NO
	anonymous_enable=YES
	no_anon_password=YES
	local_enable=yes
	anon_root=/DATA/ftp_share/
	write_enable=YES
	anon_upload_enable=YES
	anon_mkdir_write_enable=YES
	use_localtime=YES
	xferlog_enable=YES
	xferlog_file=/var/log/vsftpd.log
	secure_chroot_dir=/var/run/vsftpd/empty
	pam_service_name=vsftpd
	rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem
	rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key
	ssl_enable=NO
sudo mkdir -p /DATA/ftp_share		создаём домашний каталог ftp-сервера.
sudo chown root:ftp /DATA/ftp_share	навешиваем права на эту директорию.
sudo chmod 755 /DATA/ftp_share		навешиваем права на эту директорию.
sudo mkdir -p /DATA/ftp_share/public	создаём публичный каталог внутри (анонимные пользователи смогут туда записывать и каталоги и файлы и т.д.)
sudo chmod 777 /DATA/ftp_share/public	создаём публичный каталог внутри (анонимные пользователи смогут туда записывать и каталоги и файлы и т.д.)
/etc/passwd 				изменяем домашний каталог пользователя ftp, в файле /etc/passwd, указав домашнюю директорию ftp-сервера  /DATA/ftp_share вместо /srv/ftp
	ftp:x:111:120:ftp daemon,,,:/DATA/ftp_share:/usr/sbin/nologin
sudo systemctl restart vsftpd		перезапускаем сервер ftp командой:
755					каталоги, принадлежащие группе ftp должны иметь права 755, 
777					права на дочерние каталоги в зависимости от того кому и что мы разрешаем вплоть до 777. 
Также если  изменяется домашний каталог пользователя ftp в файле /etc/passwd, машина, где располагается сервер FTP обязательно должна быть перезагружена.
mc → F9 → FTP-соединение		проверить доступность сервера ftp можно через mc, запустив от обычного пользователя (не root, иначе сервер не пустит)
В том числе доступность сервера можно проверить и через любой браузер в сети введя ftp://ip-адрес. 
Настройка VSFTP может быть достаточно сложной задачей, но его конфигурационный файл легко читается и понимается. 
В целом, VSFTP является надежным и безопасным сервисом для передачи файлов, но для его настройки нужны знания и опыт работы с Linux-системами.