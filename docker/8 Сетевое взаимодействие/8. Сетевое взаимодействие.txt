Контейнер имел IPaddress внутри Docker, но с VM обращение  идёт по localhost.
Используется iptables и цепочка правил MASQUERADE, которые IPaddr внутри Docker перенаправляет на localhost.
На VM-host каждый контейнер внутри имеет интерфейс eth0, который на VM-host смонтирован на виртуальный интерфейс veth*. Эти виртуальные интерфейсы смотрят на bridge docker(0) net. Если адресс принадлежит подсети, по мост маршрутизирует по адресу, если нет, то мост маршрутизирует на интерфейс VM-host eth0 на внешние адреса.

Ports:
EXPOSE 8080/tcp			# информирует движок о том, какой порт image контейнер планирует открыть наружу и протокол. Порт не открывается, он только определяется. Порт наружу открывается через -p  при запуске контейнера "docker run -p 8080:5422" (Docker_port:Port_HostMachine) "docker run -p" это публикация порта.

Для того, чтобы коммуницировать между контейнерами (мы не знаем адреса контейнеров) можно обратиться по имени контейнера. Контейнера подключаются к одной сети/подсети. Движок docker сам разберёт имя контейнера на его IP-address {в DockerCompose он работает по умолчанию.}.
Выбор сети зависит от требований к изоляции, производительности и архитектуре приложения.
Варианты сетей docker:
Некоторые варианты сетей в Docker:
Bridge network			(мостовая сеть). Используется для локального взаимодействия контейнеров на одном хосте. Контейнеры, подключённые к bridge-сети, могут взаимодействовать друг с другом по IP-адресам или именам контейнеров, но они изолированы от внешней сети хоста (по умолчанию).
Overlay network 		Необходима для создания распределённых систем, когда контейнеры должны общаться друг с другом на разных хостах. Этот тип сети особенно полезен для кластеров Docker Swarm и Kubernetes. Создаётся покрывающая сеть.
Host network			Применяется, когда требуется максимальная производительность сети или контейнеру необходимо иметь доступ ко всем сетевым интерфейсам хоста.
None network			Подходит для случаев, когда контейнер не должен иметь сетевых подключений и должен быть полностью изолирован. При этом контейнер не будет связан с какой-либо сетью и будет полностью автономен.
Macvlan network			docker_host принимает запрос на несколько МАС-адресов. Конейнерам назначаются МАС-адреса.

------------------------------
MASQUERADE в контексте iptables 		— это вариант SNAT, который автоматически подставляет внешний IP-адрес интерфейса. 
MASQUERADE					-  (маскирование) с использованием MASQUERADE 					- позволяет целой сети с внутренними IP-адресами работать через один внешний IP-адрес. Также маскирование может использоваться для преобразования пакетов, которые в противном случае были бы несовместимы, например, между проводным и беспроводным протоколами. 
MASQUERADE 					- удобен, когда IP-адрес динамический, например, при подключении через PPPoE или мобильный интернет.